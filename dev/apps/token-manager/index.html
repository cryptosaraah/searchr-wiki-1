<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Searchr">
        <link rel="canonical" href="https://squidfunk.github.io/mkdocs-material/dev/apps/token-manager/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Token Manager - Searchr</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../stylesheets/extra.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-XXXXXXXX-X', 'auto');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../..">Searchr</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../documentation/whitepaper/">Whitepaper</a>
</li>
                            
<li >
    <a href="../../../documentation/aragonOS/">aragonOS</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Governance</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../documentation/Community_Governance_Model/">AGP2 - Community Governance Model</a>
</li>
            
<li >
    <a href="../../../documentation/Migration_to_Open_Source_Messaging_Platform/">AGP5 - Migration to Open Source Messaging Platform</a>
</li>
            
<li >
    <a href="../../../documentation/Merge_Aragon_HQ_and_Community_meetings/">AGP7 - Merge Aragon HQ and Community meetings</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Multisigs</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../documentation/multisigs/overview/">Overview</a>
</li>
            
<li >
    <a href="../../../documentation/multisigs/foundation/">Foundation</a>
</li>
            
<li >
    <a href="../../../documentation/multisigs/community/">Community</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../../../documentation/Development_Plan/">Development Plan</a>
</li>
                            
<li >
    <a href="../../../documentation/Code_of_Conduct/">Aragon Code of Conduct</a>
</li>
                            
<li >
    <a href="../../../documentation/presentations/">Presentations</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Audit reports</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../documentation/audits/audit01_report_dossa/">Audit 01 by Adam Dossa</a>
</li>
            
<li >
    <a href="../../../documentation/audits/audit_internal_sun/">Audit (Internal) by Brett Sun</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../../../documentation/community_content/">Community Content</a>
</li>
                            
<li >
    <a href="../../../projects/">Third-party Projects</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../">Overview</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">aragonOS</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../aragonOS_index/">Overview</a>
</li>
            
<li >
    <a href="../../aragonOS_how_to_contribute/">How to contribute</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Aragon Apps</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../">Overview</a>
</li>
            
<li >
    <a href="../voting/">Voting</a>
</li>
            
<li class="active">
    <a href="./">Token Manager</a>
</li>
            
<li >
    <a href="../group/">Group</a>
</li>
            
<li >
    <a href="../fundraising/">Fundraising</a>
</li>
            
<li >
    <a href="../vault/">Vault</a>
</li>
            
<li >
    <a href="../finance/">Finance</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Design <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../design/">Overview</a>
</li>
                            
<li >
    <a href="../../../design/logo/">Logo</a>
</li>
                            
<li >
    <a href="../../../design/artwork/">Artwork</a>
</li>
                            
<li >
    <a href="../../../design/identity_guidelines/">Identity Guidelines</a>
</li>
                            
<li >
    <a href="../../../design/branding_proposal/">Branding Proposal</a>
</li>
                            
<li >
    <a href="../../../design/merch/">Merchandise</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Meetings <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">Community</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">Community 08</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../meetings/community/08/">Agenda</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/alexa/">Write-Up - Alexa</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/brett/">Write-Up - Brett</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/john/">Write-Up - John</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/jorge/">Write-Up - Jorge</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/luis/">Write-Up - Luis</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/luke/">Write-Up - Luke</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/maria/">Write-Up - Maria</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/oliver/">Write-Up - Oliver</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/pierre/">Write-Up - Pierre</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm08/tatu/">Write-Up - Tatu</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Community 07</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../meetings/community/07/">Agenda</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/alexa/">Write-Up - Alexa</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/brett/">Write-Up - Brett</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/light-cm07/">Write-Up - John</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/jorge/">Write-Up - Jorge</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/luis/">Write-Up - Luis</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/luke/">Write-Up - Luke</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/maria/">Write-Up - Maria</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/oliver/">Write-Up - Oliver</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/pierre/">Write-Up - Pierre</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm07/tatu/">Write-Up - Tatu</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Community 06</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../meetings/community/06/">Agenda</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/brett/">Write-Up - Brett</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/john/">Write-Up - John</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/jorge/">Write-Up - Jorge</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/luis/">Write-Up - Luis</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/luke/">Write-Up - Luke</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/maria/">Write-Up - Maria</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/oliver/">Write-Up - Oliver</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/pierre/">Write-Up - Pierre</a>
</li>
            
<li >
    <a href="../../../meetings/community/write-ups/cm06/tatu/">Write-Up - Tatu</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../../meetings/community/05/">Community 05</a>
</li>
            
<li >
    <a href="../../../meetings/community/04/">Community 04</a>
</li>
            
<li >
    <a href="../../../meetings/community/03/">Community 03</a>
</li>
            
<li >
    <a href="../../../meetings/community/02/">Community 02</a>
</li>
            
<li >
    <a href="../../../meetings/community/01/">Community 01</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Jobs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../jobs/">Overview</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Openings</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../jobs/openings/solidity/">EVM/Solidity Engineer</a>
</li>
            
<li >
    <a href="../../../jobs/openings/frontend/">Frontend and web3 Developer</a>
</li>
            
<li >
    <a href="../../../jobs/openings/dev_rel/">Developer Relations</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Blog posts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../blog/2018/">2018</a>
</li>
                            
<li >
    <a href="../../../blog/2017/">2017</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Videos <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../videos/tutorials/">Tutorials</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Meetings</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../videos/community/">Community</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../../../videos/interviews/">Interviews</a>
</li>
                            
<li >
    <a href="../../../videos/presentations/">Presentations</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Press <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../press/press-kit/">Press Kit</a>
</li>
                            
<li >
    <a href="../../../press/media-mentions/">Media Mentions</a>
</li>
                            
<li >
    <a href="../../../press/contact/">Contact</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Aragon Nest <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../nest/">Overview</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Guides</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../nest/guides/guide_for_submitting_a_proposal_for_grants/">Guide for submitting a Proposal for a grant</a>
</li>
            
<li >
    <a href="../../../nest/guides/guide_for_submitting_a_request_for_funding/">Guide for submitting a new Request for funding</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Templates</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../nest/templates/ISSUE_TEMPLATE/">New Issue Template</a>
</li>
            
<li >
    <a href="../../../nest/templates/PULL_REQUEST_TEMPLATE/">New Pull Request Template</a>
</li>
            
<li >
    <a href="../../../nest/templates/team/">team.md Template</a>
</li>
            
<li >
    <a href="../../../nest/templates/roadmap/">roadmap.md Template</a>
</li>
    </ul>
  </li>
                            
<li >
    <a href="../../../nest/faqs/">FAQ</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Archive <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">Documentation</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../archive/documentation/agp5/RocketChat/">AGP5 - Rocket Chat comparison</a>
</li>
            
<li >
    <a href="../../../archive/documentation/agp5/Riot/">AGP5 - Riot comparison</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Meetings</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">Aragon HQ</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../archive/meetings/hq/01/">HQ 01</a>
</li>
            
<li >
    <a href="../../../archive/meetings/hq/02/">HQ 02</a>
</li>
            
<li >
    <a href="../../../archive/meetings/hq/03/">HQ 03</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Dev</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../archive/meetings/dev/01/">Dev 01</a>
</li>
            
<li >
    <a href="../../../archive/meetings/dev/02/">Dev 02</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Videos</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">Meetings</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../archive/videos/hq/">Aragon HQ</a>
</li>
            
<li >
    <a href="../../../archive/videos/dev/">Dev</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Translations <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">Espa√±ol (Spanish)</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../translations/spanish/">Hola</a>
</li>
            
<li >
    <a href="../../../translations/spanish/aragonos/">aragonOS</a>
</li>
            
<li >
    <a href="../../../translations/spanish/devplan/">Development Plan</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../voting/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../group/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/shaunnarayan/edit/master/docs/dev/apps/token-manager.md">Edit on shaunnarayan/searchr-wiki</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#token-manager">Token Manager</a></li>
            <li><a href="#modes">Modes</a></li>
            <li><a href="#initialization">Initialization</a></li>
            <li><a href="#mode-specific-functionality">Mode specific functionality</a></li>
            <li><a href="#generic-functionality">Generic functionality</a></li>
            <li><a href="#vesting">Vesting</a></li>
            <li><a href="#forwarder">Forwarder</a></li>
            <li><a href="#limitations">Limitations</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="token-manager"><a href="https://github.com/aragon/aragon-apps/tree/master/apps/token-manager">Token Manager</a><a class="headerlink" href="#token-manager" title="Permanent link">&para;</a></h1>
<p><em><strong>Code in Github:</strong></em> <a href="https://github.com/aragon/aragon-apps/tree/master/apps/token-manager">aragon-apps/apps/token-manager</a></p>
<p>Token Manager is an abstraction layer over the concept of the MiniMeToken controller. The controller of a MiniMeToken is an address that can mint and destroy tokens, it also gets a 'hook' call on every transfer and approval giving the controller the chance to note it and decide whether to let the transfer through.</p>
<p>Its most important features are minting new tokens and locking token transferability over time (vesting).</p>
<p>One Token Manager instance can manage one MiniMe token.</p>
<h3 id="modes">Modes<a class="headerlink" href="#modes" title="Permanent link">&para;</a></h3>
<p>Token Manager can handle two modes or use-cases. The mode is set on initialization and cannot be changed.</p>
<ul>
<li><strong>Native token mode</strong>: The managed token can be minted arbitrarily.</li>
<li><strong>Wrapped token mode</strong>: The managed token acts as a wrapper to another ERC20 token. The managed token can only be minted by staking (wrapping) units of the wrapped token. At any time a holder of the wrapper token can exchange it back for the original token (unless there is vesting).</li>
</ul>
<h3 id="initialization">Initialization<a class="headerlink" href="#initialization" title="Permanent link">&para;</a></h3>
<p>There are two different initializers depending on the mode.</p>
<h4 id="native">Native<a class="headerlink" href="#native" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>tokenManager.initializeNative(address token)
</pre></div>


<p>Parameters:</p>
<ul>
<li><strong>Token</strong>: The token being managed. The Token Manager should have already been set as the <code>controller</code> for the token.</li>
</ul>
<h4 id="wrapped">Wrapped<a class="headerlink" href="#wrapped" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>tokenManager.initializeWrapped(address wrapperToken, address wrappedToken)
</pre></div>


<p>Parameters:</p>
<ul>
<li><strong>Wrapper token</strong>: Same as token above.</li>
<li><strong>Wrapped token</strong>: Address of the token that will be wrapped</li>
</ul>
<h3 id="mode-specific-functionality">Mode specific functionality<a class="headerlink" href="#mode-specific-functionality" title="Permanent link">&para;</a></h3>
<h4 id="native-mode">Native mode<a class="headerlink" href="#native-mode" title="Permanent link">&para;</a></h4>
<h5 id="mint-tokens">Mint tokens<a class="headerlink" href="#mint-tokens" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span>tokenManager.mint(address receiver, uint256 amount)
</pre></div>


<p>Creates new tokens and assigns them to the receiver.</p>
<h5 id="issue-tokens">Issue tokens<a class="headerlink" href="#issue-tokens" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span>tokenManager.issue(uint256 amount)
</pre></div>


<p>Creates new tokens that are assigned to the Token Manager. Those can be later assigned.</p>
<h4 id="wrapper-mode">Wrapper mode<a class="headerlink" href="#wrapper-mode" title="Permanent link">&para;</a></h4>
<p>Wrapper mode works under the assumption that the wrapped token is a trusted ERC20 implementation, meaning transfers are performed normally (no fees on token transfers like) and balances constant if no operations are made.</p>
<h5 id="wrap-tokens">Wrap tokens<a class="headerlink" href="#wrap-tokens" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span>tokenManager.wrap(uint256 amount)
</pre></div>


<p>Requires an existing ERC20 allowance to the Token Manager address for at least that amount of tokens. It will transfer the wrapped tokens to the Token Manager and mint an equal amount of wrapper tokens for the sender.</p>
<p>Will fail if sender hasn't created the allowance or doesn't have enough wrapped token balance.</p>
<h5 id="unwrap-tokens">Unwrap tokens<a class="headerlink" href="#unwrap-tokens" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span>tokenManager.unwrap(uint256 amount)
</pre></div>


<p>It will burn the wrapper tokens and transfer the user the same amount in wrapped tokens.</p>
<p>Will fail if sender doesn't own that many tokens.</p>
<h3 id="generic-functionality">Generic functionality<a class="headerlink" href="#generic-functionality" title="Permanent link">&para;</a></h3>
<h4 id="assign-tokens">Assign tokens<a class="headerlink" href="#assign-tokens" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>tokenManager.assign(address receiver, uint256 amount)
</pre></div>


<p>Transfers tokens from Token Manager balance to <code>receiver</code>. Token Manager can own tokens as a result of an <code>issue</code> operation on native mode or just because the Token Manager received a normal token transfer.</p>
<h4 id="assign-vested-tokens">Assign vested tokens<a class="headerlink" href="#assign-vested-tokens" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>tokenManager.assignVested(address receiver, uint256 amount, { Vesting parameters })
</pre></div>


<p>Performs an assign but attaches rules on when the receiver can transfer her tokens. Next section goes in depth into how vesting works.</p>
<h4 id="revoke-vesting">Revoke vesting<a class="headerlink" href="#revoke-vesting" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>tokenManager.revokeVesting(address holder, uint256 vestingId)
</pre></div>


<p>Revokes a vesting from a holder (if vesting is revokable).</p>
<h3 id="vesting">Vesting<a class="headerlink" href="#vesting" title="Permanent link">&para;</a></h3>
<p>Assigning tokens with vesting performs a normal ERC20 token transfer operation but then the holder will only be able to perform transfers according to a vesting calendar.</p>
<p>MiniMe tokens perform a check with their controller before doing a token transfer. This hook is used by the Token Manager to check whether a holder can transfer the desired tokens.</p>
<p>By making the holders the direct owners of the tokens, they are able to use tokens for actions that check the token balance such as voting, while at the same time being able to lock transferability of them. Vested holders are also allowed to forward transactions through the TokenManager.</p>
<h4 id="vesting-parameters">Vesting parameters<a class="headerlink" href="#vesting-parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>Start: timestamp in seconds that marks the beginning of the vesting schedule (can be a past or future date).</li>
<li>Cliff: timestamp for the first moment in which any assigned tokens can be transferred. The amount of tokens that gets unlocked in the cliff is directly proportional to the overall vesting schedule.</li>
<li>Vesting: timestamp for the moment all tokens assigned are transferable.</li>
<li>Revokable: whether the Token Manager can revoke a token grant in the middle of the vesting. When that happens, tokens that are not vested yet are transferred back to the Token Manager.</li>
</ul>
<h4 id="calculating-transferable-tokens">Calculating transferable tokens<a class="headerlink" href="#calculating-transferable-tokens" title="Permanent link">&para;</a></h4>
<p>A token holder can have multiple vestings at the same time. For checking whether an amount of tokens can be transferred, the contract will check for all the vestings a holder has how many tokens can be transferred at that moment (note that some of the tokens may have been assigned without vesting).</p>
<p>For every vesting, the amount:</p>
<ul>
<li>From start to cliff, 0 tokens are transferable.</li>
<li>From cliff to vesting, the amount of transferable tokens is interpolated using this formula: <code>transferable = tokens * (now - start) / (vesting - start)</code></li>
<li>After vesting, all tokens are transferrable.</li>
</ul>
<h3 id="forwarder">Forwarder<a class="headerlink" href="#forwarder" title="Permanent link">&para;</a></h3>
<p>Token Manager allows holders of its underlying token to execute external actions by identifying themselves as token holders. This can be used for allowing token holders to perform a particular action in the DAO (e.g create a vote) without the ACL having to know anything about tokens.</p>
<p>For this, Token Manager conforms to the <a href="../../../documentation/aragonOS/#forwarders">aragonOS Forwarder interface</a> and forwards calls to holders that own at least one token.</p>
<h3 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">&para;</a></h3>
<ul>
<li>In order to avoid an attack in which too many token vestings are added to a holder to cause an out of gas, the amount of token vestings a holder is limited to 50.</li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2016 - 2018 Searchr</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../..';</script>
        <script src="../../../js/base.js"></script>
        <script src="../../../javascript/extra_js.js"></script>
        <script src="../../../search/require.js"></script>
        <script src="../../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
